# demo
some demo in 2017-2018


[TOC]

#正则表达式（初级）

##1.什么是正则表达式

> 正则表达式，又称规则表达式。（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本。-百度百科
>
> 正则表达式是对[字符](https://baike.baidu.com/item/%E5%AD%97%E7%AC%A6)串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。-百度百科

上述就是正则表达式在百度百科的说明，总的来说就是***<u>查找匹配某些复杂规则的字符串</u>***。

另外就是能够用到的语言常见的有`Java,Python,C++,JavaScript,PHP,C#等`（我发现大多都是能和网站有关联的）。

下面有一段关于Django特点的介绍：

>（1）灵活性、逻辑性和功能性非常的强；
>（2）可以迅速地用极简单的方式表达字符串的复杂控制；
>（3）对于刚接触的人来说，比较晦涩难懂。
>					——《Django开发宝典》

比如我家里曾经的座机号码0712-5712020，如果我想做一个过滤座机号码的正则，那么我可以这么做：

- 首先区号首数字肯定为0，然后接上三位数
- 中间必然是一个‘ - ’
- 最后是七位长的数字

好，在了解字符串规则后可以这样写` "^0\d{4}-\d{7}$"`这样一个简单的正则规则给弄出来。

## 2.Django的正则表达式

>A clean, elegant URL scheme is an important detail in a high-quality Web application. Django lets you design URLs however you want, with no framework limitations.
>										——Django documentation

嗯，这是Django文档在URLconf中的第一句，很核心的说明了Django为什么要使用正则作为Web应用的URL设计方法。

```python
from django.urls import path, re_path
from . import views

urlpatterns = [
    path('articles/2003/', views.special_case_2003),
    re_path(r'^articles/(?P<year>[0-9]{4})/$', views.year_archive),
    re_path(r'^articles/(?P<year>[0-9]{4})/(?P<month>[0-9]{2})/$', views.month_archive),
    re_path(r'^articles/(?P<year>[0-9]{4})/(?P<month>[0-9]{2})/(?P<slug>[\w-]+)/$', views.article_detail),
]
```

上面截取的是Django官方文档的一段代码，描述了URLconf(URL configuration)模块的路径查找部分。在path括号中的部分就是正则的URL。

## 3.正则表达式语法和符号

##### 基础语法

`"^([]{})([]{})([]{})$"`

一般的正则表达式语句是在字符串中包含开始符号`^`、域段`()`、匹配长度`{}` 、包含`[]`和结束`$`，其中包含和匹配长度组成一个域段。

比如：

`"^num:[0,2]{1,4}$"`

这个正则翻译过来就是 <u>"开始 "num：文本字符"[数字0-2]｛数字长度1-4｝结束""</u>

##### 常用等价符号

|      符号       |          定义          |
| :-------------: | :--------------------: |
| ?  *  +  \d  \w |        等价字符        |
|        ?        |  匹配长度0-1    {0,1}  |
|        *        |   匹配长度0-    {0,}   |
|        +        |   匹配长度1-    {1,}   |
|       \d        |   匹配数字    [0-9]    |
|       \w        |     [A-Z a-z_0-9]      |
|       \s        |     匹配任意空白符     |
|       \b        | 匹配单词的开始或者结束 |

##### 常用运算符

|  符号  |     定义     |
| :----: | :----------: |
|   ^    |     开始     |
|  ( )   |     域段     |
|  [ ]   |     包含     |
| [^aoe] |    不包含    |
| {n,m}  |   字符长度   |
|   .    | 任一单个字符 |
|   \|   |      或      |
|   \    |   转义字符   |
|   ,    |     分割     |
|   $    |     结束     |
##### 分割语法

分割语句使用了分割符号就行定义，如：

`[0,3,8,9]`

这里就是在包含里面使用了分割符号，其含义为匹配的数字为0-3和8-9.

## 4.分析常用正则表达式

- `/^[a-z0-9_-]{3,16}$/`

用户名 匹配。翻译过来就是任意数量在3-16的字符串组合。需要注意的是这个域段的包含部分，它的范围是特别广的（好像包含希腊字母来着），所以在某些匹配场景需要慎用。

s

## 5.总结

本文的正则表达式只是讲了正则在Django设计URL常用的内容，其他的如后向引用，宽度断言等等之类的并没有写出来。正则表达式作为一门匹配字符串的工具而言难度的确是太大了（特别是对于初学者），但是只要是工具就可以熟能生巧，相信只要经常使用它，总的而言短时间入门是完全没问题的。（难读写就需要多检验，下面给个在线检验的工具）

> https://www.wntool.com/regex/  在线正则工具




